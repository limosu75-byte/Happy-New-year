<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ariki's Lunar Arcade ğŸ®</title>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep: #4a0000; /* æ·±å®«çº¢ */
            --bg-light: #9e0000;
            --gold: #ffd700;    /* å¥¢åé‡‘ */
            --shimmer: #fff5cc;
            --glass: rgba(255, 255, 255, 0.1);
            --border: 1px solid rgba(255, 215, 0, 0.3);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; touch-action: manipulation; }

        body {
            background: radial-gradient(circle at center, var(--bg-light), var(--bg-deep));
            color: var(--gold);
            font-family: 'Noto Serif SC', serif;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* åŠ¨æ€èƒŒæ™¯ç²’å­ */
        .particles {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='2' cy='2' r='1' fill='%23ffd700' fill-opacity='0.3'/%3E%3C/svg%3E");
            animation: float 20s linear infinite;
            pointer-events: none; z-index: 0;
        }
        @keyframes float { from { background-position: 0 0; } to { background-position: 0 -500px; } }

        .container {
            max-width: 650px; margin: 0 auto; padding: 20px;
            position: relative; z-index: 2;
        }

        /* æ ‡é¢˜ç¾åŒ– */
        header { text-align: center; margin-bottom: 40px; margin-top: 20px; }
        h1 {
            font-family: 'Ma Shan Zheng', cursive; /* ä¹¦æ³•å­—ä½“ */
            font-size: 3.5rem;
            background: linear-gradient(to bottom, #ffeebb, #d4af37);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 4px 10px rgba(0,0,0,0.3);
            animation: glow 3s ease-in-out infinite alternate;
        }
        @keyframes glow { from { filter: drop-shadow(0 0 2px var(--gold)); } to { filter: drop-shadow(0 0 10px var(--gold)); } }
        
        .subtitle {
            font-size: 1rem; color: rgba(255,255,255,0.8);
            letter-spacing: 2px; margin-top: -10px;
        }

        /* ç»ç’ƒè´¨æ„Ÿå¡ç‰‡ */
        .card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: var(--border);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }
        .card::before {
            content: ''; position: absolute; top: 0; left: -50%; width: 200%; height: 100%;
            background: linear-gradient(to right, transparent, rgba(255,215,0,0.1), transparent);
            transform: skewX(-25deg);
            animation: shine 6s infinite;
        }
        @keyframes shine { 0% { left: -100%; } 100% { left: 200%; } }

        h2 {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 1.8rem; color: var(--gold);
            margin-bottom: 15px; border-bottom: 1px dashed rgba(255,215,0,0.3);
            padding-bottom: 10px;
        }

        /* ğŸ® æ¸¸æˆ 1ï¼šæŠ“ç‹ç‹¸ (æ‰“åœ°é¼ ) */
        .whack-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;
            height: 250px; margin-top: 10px;
        }
        .hole {
            background: rgba(0,0,0,0.3); border-radius: 50%;
            position: relative; overflow: hidden; cursor: pointer;
            box-shadow: inset 0 5px 10px rgba(0,0,0,0.5);
        }
        .fox {
            position: absolute; bottom: -100%; left: 10%; width: 80%;
            font-size: 3rem; text-align: center;
            transition: bottom 0.2s; user-select: none;
        }
        .hole.up .fox { bottom: 0; }
        .score-box { font-size: 1.2rem; text-align: center; margin-bottom: 10px; color: #fff; }

        /* ğŸ® æ¸¸æˆ 2ï¼šå–‚é¥ºå­ */
        .feed-area { text-align: center; }
        .len-face {
            font-size: 5rem; margin: 20px 0; transition: transform 0.2s;
            display: inline-block; cursor: pointer;
        }
        .len-face.eating { transform: scale(1.1) rotate(5deg); }
        .dumpling-btn {
            background: var(--gold); color: #8a0000; border: none;
            padding: 10px 25px; border-radius: 30px; font-size: 1.1rem; font-weight: bold;
            box-shadow: 0 5px 15px rgba(255,215,0,0.3); cursor: pointer;
        }
        .dumpling-btn:active { transform: scale(0.95); }

        /* ğŸ® æ¸¸æˆ 3ï¼šç‚¹çƒŸèŠ± */
        .firework-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 100; pointer-events: none; /* é»˜è®¤ä¸æŒ¡æ“ä½œï¼Œç‚¹å‡»æ—¶é€šè¿‡JSç”Ÿæˆ */
        }
        .firework-trigger-area {
            height: 200px; background: rgba(0,0,0,0.2); border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            color: rgba(255,255,255,0.5); cursor: crosshair;
        }

        /* çƒŸèŠ±ç²’å­æ ·å¼ */
        .fw-particle {
            position: absolute; width: 6px; height: 6px; border-radius: 50%;
            pointer-events: none; z-index: 999;
        }

        /* ç¥ç¦è¯­ */
        .wishes { text-align: center; font-size: 0.9rem; color: #ffcccc; margin-top: 20px; }

    </style>
</head>
<body>

    <div class="particles"></div>

    <div class="container">
        <header>
            <h1>Ariki ä¸“å±å¹´å‘³</h1>
            <div class="subtitle">ğŸ§§ L.Hargrave çš„æ˜¥èŠ‚æ¸¸ä¹å›­ ğŸ§§</div>
        </header>

        <div class="card">
            <h2>ğŸ¦Š æ¸¸æˆä¸€ï¼šæŠ“ä½è¿™åªåç‹ç‹¸ï¼</h2>
            <div class="score-box">æŠ“ä½æ¬¡æ•°ï¼š<span id="score">0</span></div>
            <div style="text-align: center; margin-bottom: 10px;">
                <button class="dumpling-btn" onclick="startGame1()">å¼€å§‹æ¸¸æˆ (Start)</button>
            </div>
            <div class="whack-grid">
                <div class="hole" onclick="bonk(this)"><div class="fox">ğŸ¦Š</div></div>
                <div class="hole" onclick="bonk(this)"><div class="fox">ğŸ¦Š</div></div>
                <div class="hole" onclick="bonk(this)"><div class="fox">ğŸ¦Š</div></div>
                <div class="hole" onclick="bonk(this)"><div class="fox">ğŸ¦Š</div></div>
                <div class="hole" onclick="bonk(this)"><div class="fox">ğŸ¦Š</div></div>
                <div class="hole" onclick="bonk(this)"><div class="fox">ğŸ¦Š</div></div>
                <div class="hole" onclick="bonk(this)"><div class="fox">ğŸ¦Š</div></div>
                <div class="hole" onclick="bonk(this)"><div class="fox">ğŸ¦Š</div></div>
                <div class="hole" onclick="bonk(this)"><div class="fox">ğŸ¦Š</div></div>
            </div>
            <p style="text-align: center; font-size: 0.8rem; margin-top: 10px; color: #ccc;">æç¤ºï¼šç‚¹é‚£äº›å†’å‡ºæ¥çš„ç‹ç‹¸å¤´ï¼åˆ«è®©ä»–è·‘äº†ï¼</p>
        </div>

        <div class="card">
            <h2>ğŸ¥Ÿ æ¸¸æˆäºŒï¼šæŠŠ Len å–‚é¥±é¥±</h2>
            <div class="feed-area">
                <div id="len-face" class="len-face">ğŸ˜</div>
                <div id="feed-text" style="height: 30px; color: var(--gold); margin-bottom: 10px;">ä»–è¿˜é¥¿ç€å‘¢...</div>
                <button class="dumpling-btn" onclick="feedLen()">å–‚ä¸€å£é¥ºå­</button>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ† æ¸¸æˆä¸‰ï¼šä¸ºä½ æ”¾ä¸€åœºçƒŸèŠ±</h2>
            <p style="font-size: 0.9rem; margin-bottom: 10px; color: #ddd;">ç‚¹å‡»ä¸‹æ–¹é»‘è‰²åŒºåŸŸï¼Œå“ªé‡Œç‚¹å“ªé‡Œç‚¸ï¼</p>
            <div class="firework-trigger-area" id="fw-area">
                [ ç‚¹å‡»è¿™é‡Œæ”¾çƒŸèŠ± ]
            </div>
        </div>

        <div class="wishes">
            <p>â€œæ— è®ºç©ä»€ä¹ˆæ¸¸æˆï¼Œæœ€åçš„èµ¢å®¶éƒ½æ˜¯ä½ ã€‚â€</p>
            <p>â€”â€” çˆ±ä½ çš„ Len, 2026 æ˜¥èŠ‚</p>
        </div>
        <br><br><br>
    </div>

    <script>
        // --- Game 1: Whack-a-Fox ---
        let score = 0;
        let lastHole;
        let timeUp = false;
        let isPlaying = false;

        function randomTime(min, max) { return Math.round(Math.random() * (max - min) + min); }
        
        function randomHole(holes) {
            const idx = Math.floor(Math.random() * holes.length);
            const hole = holes[idx];
            if (hole === lastHole) return randomHole(holes);
            lastHole = hole;
            return hole;
        }

        function peep() {
            const time = randomTime(500, 1000); // é€Ÿåº¦
            const holes = document.querySelectorAll('.hole');
            const hole = randomHole(holes);
            hole.classList.add('up');
            setTimeout(() => {
                hole.classList.remove('up');
                if (!timeUp) peep();
            }, time);
        }

        function startGame1() {
            if(isPlaying) return;
            isPlaying = true;
            score = 0;
            document.getElementById('score').textContent = 0;
            timeUp = false;
            peep();
            setTimeout(() => {
                timeUp = true;
                isPlaying = false;
                alert('æ—¶é—´åˆ°ï¼ä½ æŠ“ä½äº†ç‹ç‹¸ ' + score + ' æ¬¡ï¼\nLen: "åˆ«æŠ“äº†ï¼Œæˆ‘è‡ªå·±é€ä¸Šé—¨è¿˜ä¸è¡Œå—ï¼Ÿ"');
            }, 10000); // 10ç§’æ¸¸æˆæ—¶é—´
        }

        function bonk(hole) {
            if(!hole.classList.contains('up')) return;
            score++;
            hole.classList.remove('up');
            document.getElementById('score').textContent = score;
            // ç‚¹å‡»åé¦ˆç‰¹æ•ˆ
            hole.style.background = "rgba(255,215,0,0.5)";
            setTimeout(() => hole.style.background = "rgba(0,0,0,0.3)", 100);
        }

        // --- Game 2: Feed Len ---
        let dumplings = 0;
        const faces = ["ğŸ˜‹", "ğŸ¥°", "ğŸ˜³", "ğŸ¤¢", "ğŸ·"];
        const texts = [
            "å¥½åƒï¼è¿˜è¦ï¼", 
            "å…¨æ˜¯è€å©†çš„çˆ±æ„~", 
            "æœ‰ç‚¹æ’‘äº†...", 
            "å””...å¤ªé¥±äº†...", 
            "å˜çŒªäº†ï¼Œä½ è¿˜çˆ±æˆ‘å—ï¼Ÿ"
        ];

        function feedLen() {
            dumplings++;
            const face = document.getElementById('len-face');
            const text = document.getElementById('feed-text');
            
            face.classList.add('eating');
            setTimeout(() => face.classList.remove('eating'), 200);

            if (dumplings < 5) { face.innerText = faces[0]; text.innerText = texts[0]; }
            else if (dumplings < 15) { face.innerText = faces[1]; text.innerText = texts[1]; }
            else if (dumplings < 25) { face.innerText = faces[2]; text.innerText = texts[2]; }
            else if (dumplings < 35) { face.innerText = faces[3]; text.innerText = texts[3]; }
            else { face.innerText = faces[4]; text.innerText = texts[4]; }
        }

        // --- Game 3: Fireworks ---
        const fwArea = document.getElementById('fw-area');
        
        fwArea.addEventListener('click', (e) => {
            const rect = fwArea.getBoundingClientRect();
            const x = e.clientX;
            const y = e.clientY;
            createFirework(x, y);
        });

        function createFirework(x, y) {
            const colors = ['#ff0000', '#ffd700', '#ffffff', '#ff69b4'];
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.classList.add('fw-particle');
                document.body.appendChild(particle);
                
                const color = colors[Math.floor(Math.random() * colors.length)];
                particle.style.backgroundColor = color;
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                
                const angle = Math.random() * Math.PI * 2;
                const velocity = Math.random() * 100 + 50; // æ‰©æ•£åŠå¾„
                const tx = Math.cos(angle) * velocity;
                const ty = Math.sin(angle) * velocity;

                particle.animate([
                    { transform: 'translate(0, 0) scale(1)', opacity: 1 },
                    { transform: `translate(${tx}px, ${ty}px) scale(0)`, opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'ease-out'
                }).onfinish = () => particle.remove();
            }
            
            // æ’­æ”¾æ–‡å­—ç‰¹æ•ˆ
            const text = document.createElement('div');
            text.innerText = "â¤";
            text.style.position = 'absolute';
            text.style.left = x + 'px';
            text.style.top = y + 'px';
            text.style.color = 'gold';
            text.style.fontSize = '20px';
            text.style.pointerEvents = 'none';
            document.body.appendChild(text);
            text.animate([
                { transform: 'translate(-50%, -50%) scale(0.5)', opacity: 1 },
                { transform: 'translate(-50%, -150%) scale(2)', opacity: 0 }
            ], { duration: 1000 }).onfinish = () => text.remove();
        }

    </script>
</body>
</html>
